<!DOCTYPE html>
<html>
<head>
  <title>Icon Generator</title>
</head>
<body>
  <h1>Icon Generator</h1>
  <p>Selecione a imagem do seu logo para gerar ícones em vários tamanhos.</p>
  <input type="file" id="file" accept="image/*" />
  <div id="links" style="margin-top:12px"></div>

  <script>
    const sizes = [192, 512];
    const input = document.getElementById('file');
    const links = document.getElementById('links');

    input.addEventListener('change', () => {
      const file = input.files && input.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        const img = new Image();
        img.onload = () => {
          links.innerHTML = '';
          sizes.forEach(size => {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#0b3a1e';
            ctx.fillRect(0,0,size,size);
            // Draw centered and cover
            const scale = Math.max(size / img.width, size / img.height);
            const w = img.width * scale;
            const h = img.height * scale;
            const x = (size - w) / 2;
            const y = (size - h) / 2;
            ctx.drawImage(img, x, y, w, h);
            const dataUrl = canvas.toDataURL('image/webp');
            const a = document.createElement('a');
            a.href = dataUrl;
            a.download = `icon-${size}.webp`;
            a.textContent = `Baixar icon-${size}.webp`;
            a.style.display = 'inline-block';
            a.style.marginRight = '8px';
            links.appendChild(a);
          });
        };
        img.src = reader.result;
      };
      reader.readAsDataURL(file);
    });
  </script>
</body>
</html>
